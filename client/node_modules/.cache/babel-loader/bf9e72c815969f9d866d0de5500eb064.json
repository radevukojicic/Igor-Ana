{"ast":null,"code":"import apiPost from \"../../services/service\"; // @ is an alias to /src\n\nexport default {\n  data: () => ({\n    search: \"\",\n    dialog: false,\n    dialogEdit: false,\n    dialogAdd: false,\n    dialogDeleteAll: false,\n    itemsPerPage: 4,\n    images: [],\n    image: [],\n    imageAdd: [],\n    tab: null,\n    loading: false,\n    category: \"naslovna\"\n  }),\n\n  async mounted() {\n    try {\n      // Simple GET request using axios\n      await apiPost.getPosts(this.category).then(async response => {\n        let data = await response.data;\n        this.images = data;\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n\n  methods: {\n    async deleteFotografija(id) {\n      try {\n        console.log(id);\n        await apiPost.deletePost(id).then(response => {\n          console.log(response.data);\n        });\n        this.dialog = false;\n        await apiPost.getPosts(this.category).then(async response => {\n          this.images = await response.data;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    async deleteAllFotografija() {\n      try {\n        await apiPost.deletePostAll(this.category).then(response => {\n          console.log(response.data);\n        });\n        await apiPost.getPosts(this.category).then(async response => {\n          this.images = await response.data;\n          this.dialogDeleteAll = false;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    async editFotografija(id) {\n      try {\n        let formData = new FormData();\n\n        if (this.image) {\n          formData.append(\"image[]\", this.image);\n          await apiPost.editPost(id, formData).then(response => {\n            console.log(response.data);\n          });\n          await apiPost.getPosts(this.category).then(async response => {\n            this.images = await response.data;\n            this.image = [];\n            this.dialogEdit = false;\n          });\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    deleteItem(id) {\n      console.log(id);\n      this.id = id;\n      this.dialog = true;\n    },\n\n    editItem(id) {\n      console.log(id);\n      this.id = id;\n      this.dialogEdit = true;\n    },\n\n    async dodajFotografiju() {\n      this.loading = true;\n      let formData = new FormData();\n\n      try {\n        let files = this.imageAdd;\n        let filesLength = files.length;\n\n        for (var i = 0; i < filesLength; i++) {\n          formData.append(\"image[]\", files[i]);\n        }\n\n        formData.append(\"category\", this.category);\n\n        if (this.imageAdd) {\n          await apiPost.createPost(formData).then(async response => {\n            console.log(await response.data);\n          });\n          await apiPost.getPosts(this.category).then(async response => {\n            let data = await response.data;\n            this.images = data;\n          });\n          this.dialogAdd = false;\n          this.imageAdd = [];\n          this.loading = false;\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    reserve() {\n      this.loading = true;\n      setTimeout(() => this.loading = false, 2000);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2UA,6C,CACA;;AAEA;EACAA;IACAC,UADA;IAEAC,aAFA;IAGAC,iBAHA;IAIAC,gBAJA;IAKAC,sBALA;IAMAC,eANA;IAOAC,UAPA;IAQAC,SARA;IASAC,YATA;IAUAC,SAVA;IAWAC,cAXA;IAYAC;EAZA,EADA;;EAkBA;IACA;MACA;MAEA,sCACAC,IADA,CACA;QACA;QACA;MACA,CAJA;IAMA,CATA,CASA;MACAC;IACA;EACA,CA/BA;;EAiCAC;IACA;MACA;QACAD;QACA,6BACAD,IADA,CACAG;UACAF;QACA,CAHA;QAIA;QACA;UACA;QACA,CAFA;MAIA,CAXA,CAWA;QACAA;MAEA;IAIA,CApBA;;IAqBA;MACA;QACA;UACAA;QACA,CAFA;QAGA;UACA;UACA;QACA,CAHA;MAKA,CATA,CASA;QACAA;MAEA;IAIA,CAtCA;;IAuCA;MACA;QACA;;QACA;UACAG;UAEA,qCACAJ,IADA,CACAG;YACAF;UACA,CAHA;UAIA;YACA;YACA;YACA;UACA,CAJA;QAOA;MACA,CAjBA,CAiBA;QACAA;MACA;IACA,CA5DA;;IA6DAI;MACAJ;MACA;MACA;IACA,CAjEA;;IAkEAK;MACAL;MACA;MACA;IACA,CAtEA;;IAwEA;MAEA;MACA;;MACA;QACA;QACA;;QACA;UACAG;QAEA;;QACAA;;QAGA;UACA,mCACAJ,IADA,CACA;YACAC;UACA,CAHA;UAIA,sCACAD,IADA,CACA;YACA;YACA;UACA,CAJA;UAKA;UACA;UACA;QACA;MAEA,CAzBA,CAyBA;QACAC;MACA;IAEA,CAzGA;;IA2GAM;MACA;MACAC;IACA;;EA9GA;AAjCA","names":["data","search","dialog","dialogEdit","dialogAdd","dialogDeleteAll","itemsPerPage","images","image","imageAdd","tab","loading","category","then","console","methods","response","formData","deleteItem","editItem","reserve","setTimeout"],"sourceRoot":"src/components/nekretnine","sources":["HomeView.vue"],"sourcesContent":["<template>\n<div >\n  <div class=\"py-5\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"card\">\n            <div class=\"card-block\">\n              <h4 class=\"card-title\">Card title</h4>\n              <h6 class=\"card-subtitle text-muted\">Support card subtitle</h6>\n              <p class=\"card-text p-y-1\">Some quick example text to build on the card title .</p>\n              <a href=\"#\" class=\"card-link\">link</a>\n              <a href=\"#\" class=\"card-link\">Second link</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"card\">\n            <div class=\"card-block\">\n              <h4 class=\"card-title\">Card title</h4>\n              <h6 class=\"card-subtitle text-muted\">Support card subtitle</h6>\n              <p class=\"card-text p-y-1\">Some quick example text to build on the card title .</p>\n              <a href=\"#\" class=\"card-link\">link</a>\n              <a href=\"#\" class=\"card-link\">Second link</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"card\">\n            <div class=\"card-block\">\n              <h4 class=\"card-title\">Card title</h4>\n              <h6 class=\"card-subtitle text-muted\">Support card subtitle</h6>\n              <p class=\"card-text p-y-1\">Some quick example text to build on the card title .</p>\n              <a href=\"#\" class=\"card-link\">link</a>\n              <a href=\"#\" class=\"card-link\">Second link</a>\n            </div>\n          </div>\n        </div>\n        \n      </div>\n    </div>\n  </div>\n     <v-btn\n      dark\n      small\n      color=\"primary\"\n      elevation=\"2\"\n      class=\"mt-8 ml-8 pa-5\"\n      @click=\"dialogAdd = true\"\n     >\n     <v-icon\n        class=\"mr-2\"\n        small\n        color=\"secondary\"\n      >\n        fa-add\n      </v-icon>\n      <span class=\"add\">\n      Dodaj fotografije\n      </span>\n      </v-btn>\n      <v-btn\n      dark\n      small\n      color=\"red\"\n      elevation=\"2\"\n      class=\"mt-8 ml-8 pa-5\"\n      @click=\"dialogDeleteAll = true\"\n\n    >\n     <v-icon\n        class=\"mr-2\"\n        small\n      >\n        fa-trash\n      </v-icon>\n      <span class=\"add\">\n      Obriši sve fotografije\n      </span>\n      </v-btn>\n\n      <v-btn \n        class=\"ml-10 mt-9\"\n      ><h3>{{this.category}}</h1></v-btn>\n\n       <v-container  style=\"width:80%\" class=\"mt-12\">\n      <v-layout justify-center  row wrap>\n        <v-flex\n         class=\"mx-auto\"\n         v-for=\"item in this.images\"\n         :key=\"item._id\"\n        >\n    <v-hover v-slot=\"{ hover }\">\n\n      <v-img\n        width=\"244\"\n        :src=\"`http://localhost:3000/resized/`+item.image\"\n        :lazy-src=\"`http://localhost:3000/resized/`+item.image\"\n        aspect-ratio=\"1\"\n        class=\"grey lighten-2 mb-auto mx-auto mt-9\"\n      >\n          <template v-slot:placeholder>\n            <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n              <v-progress-circular\n                indeterminate\n                color=\"grey lighten-5\"\n              ></v-progress-circular>\n            </v-row>\n          </template>\n           <v-expand-transition>\n          <div\n            v-if=\"hover\"\n            class=\"d-flex transition-fast-in-fast-out black  v-card--reveal text-h2 white--text\"\n            style=\"height: 100%;\"\n          >\n           <v-btn\n           id=\"op1\"\n      class=\"mr-2\"\n      dark\n      small\n      color=\"white\"\n      elevation=\"2\"\n      fab\n      @click=\"editItem(item._id)\"\n\n    >\n     <v-icon\n        \n        small\n        color=\"black\"\n      >\n        fa-pen-to-square\n      </v-icon>\n      </v-btn>\n\n     <v-btn\n      dark\n      small\n      color=\"red\"\n      elevation=\"2\"\n      fab\n       @click=\"deleteItem(item._id)\"\n\n    >\n     <v-icon\n        \n        small\n      >\n        fa-trash\n      </v-icon>\n      </v-btn>\n        \n          </div>\n        </v-expand-transition>\n        </v-img>\n         </v-hover>\n        </v-flex>\n      </v-layout>\n       </v-container>\n\n    <v-dialog\n        v-model=\"dialog\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Brisanje fotografije\n          </v-card-title>\n          <v-card-text>\n            Da li ste sigurni da želite da obrišete ovu fotografiju?\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialog=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"red\"\n              text\n              @click=\"deleteFotografija(id)\"\n            >\n            <v-icon>mdi-delete</v-icon>\n              Obriši\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n             <v-dialog\n        v-model=\"dialogEdit\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Izmena fotografije\n          </v-card-title>\n          <v-card-text>\n          <v-form \n        ref=\"form\" \n        @submit.prevent=\"editFotografija\"\n        > \n   <v-file-input\n    placeholder=\"Fotografije\"\n    prepend-icon=\"mdi-camera\"\n    accept=\"image/*\" \n    label=\"Izaberite fotografiju\"\n    v-model=\"image\" \n\n  ></v-file-input>\n  </v-form>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogEdit=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"green\"\n              text\n              @click=\"editFotografija(id)\"\n            >\n             <v-icon >mdi-content-save</v-icon>\n\n              Izmeni\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n        <v-dialog\n        v-model=\"dialogAdd\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Dodaj fotografije\n          </v-card-title>\n          <v-card-text>\n          <v-form \n        ref=\"form\" \n        @submit.prevent=\"dodajFotografiju\"\n        > \n   <v-file-input\n    prepend-icon=\"mdi-camera\"\n    accept=\"image/*\" \n    label=\"Izaberite fotografije\"\n    v-model=\"imageAdd\" \n    ref=\"uploadFiles\"\n    multiple color=\"pink\"\n\n  ></v-file-input>\n  </v-form>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogAdd=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"green\"\n              text\n              :loading=\"loading\"\n              @click=\"dodajFotografiju()\"\n            >\n            <v-icon >mdi-content-save</v-icon>\n\n              Dodaj\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        v-model=\"dialogDeleteAll\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Obrišite sve fotografije\n          </v-card-title>\n          <v-card-text>\n            <span class=\"er\">\n            Da li ste sigurni da želite da obrišete sve fotografije?<br>\n            Povratak neće biti moguć!!!\n            </span>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogDeleteAll=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"red\"\n              text\n              @click=\"deleteAllFotografija()\"\n            >\n            <v-icon>mdi-delete</v-icon>\n              Obriši sve\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n</div>\n \n</template>\n\n\n<script>\nimport apiPost from \"../../services/service\"\n// @ is an alias to /src\n\n  export default {\n    data: () => ({\n      search: \"\",\n      dialog: false,\n      dialogEdit: false,\n      dialogAdd: false,\n      dialogDeleteAll: false,\n      itemsPerPage: 4,\n      images: [],\n      image:[],\n      imageAdd:[],\n      tab: null,\n      loading: false,\n      category:\"naslovna\"\n      \n    \n    }),\n\n    async mounted () {\n      try {\n        // Simple GET request using axios\n\n        await apiPost.getPosts(this.category)\n          .then(async response => {\n             let data  = await response.data\n             this.images = data\n          })\n       \n      } catch (error) {\n        console.log(error.message)\n      }\n    },\n\n    methods: {\n     async deleteFotografija(id){\n      try {\n        console.log(id)\n       await apiPost.deletePost(id)\n       .then(response => {\n            console.log(response.data)\n        })\n       this.dialog = false;\n       await apiPost.getPosts(this.category).then(async response => {\n          this.images = await response.data\n       })\n     \n      } catch (error) {\n        console.log(error.message)\n        \n      }\n      \n       \n       \n     },\n     async deleteAllFotografija(){\n      try {\n        await apiPost.deletePostAll(this.category).then(response => {\n        console.log(response.data)\n       })\n       await apiPost.getPosts(this.category).then(async response => {\n          this.images = await response.data;\n          this.dialogDeleteAll = false;\n       })\n     \n      } catch (error) {\n        console.log(error.message)\n        \n      }\n      \n       \n       \n     },\n     async editFotografija(id){\n      try {\n        let formData = new FormData();\n           if (this.image) {\n          formData.append(\"image[]\", this.image);\n \n          await apiPost.editPost(id,formData)\n          .then(response => {\n            console.log(response.data)\n          })\n          await apiPost.getPosts(this.category).then(async response => {\n          this.images = await response.data\n          this.image = []\n          this.dialogEdit = false;\n       })\n    \n\n      }\n      } catch (error) {\n        console.log(error.message)\n      }       \n     },\n      deleteItem(id) {\n      console.log(id)\n      this.id = id\n      this.dialog = true\n    },\n     editItem(id) {\n      console.log(id)\n      this.id = id\n      this.dialogEdit = true\n    },\n  \n    async dodajFotografiju(){\n      \n       this.loading = true;\n       let formData = new FormData()\n       try {\n          let files = this.imageAdd\n          let filesLength = files.length\n          for(var i = 0; i < filesLength; i++){\n            formData.append(\"image[]\", files[i])\n          \n          }\n          formData.append(\"category\", this.category)\n\n\n          if (this.imageAdd) {\n          await apiPost.createPost(formData)\n          .then(async response => {\n            console.log(await response.data)\n          })\n          await apiPost.getPosts(this.category)\n          .then(async response => {\n             let data  = await response.data\n             this.images = data\n          })\n          this.dialogAdd = false;\n          this.imageAdd = []\n          this.loading = false;\n       }\n        \n       } catch (error) {\n        console.log(error.message)\n       }\n         \n     }\n       ,\n     reserve () {\n        this.loading = true\n        setTimeout(() => (this.loading = false), 2000)\n      },\n     \n\n     \n    },\n  }\n</script>\n\n\n\n\n<style scoped>\n  .bottom-gradient {\n    background-image: linear-gradient(to top, rgba(0, 0, 0, 0.4) 0%, transparent 72px);\n  }\n\n  .repeating-gradient {\n    background-image: repeating-linear-gradient(-45deg,\n                        rgba(255,0,0,.25),\n                        rgba(255,0,0,.25) 5px,\n                        rgba(0,0,255,.25) 5px,\n                        rgba(0,0,255,.25) 10px\n                      );\n  }\n  .v-card--reveal {\n  align-items: center;\n  bottom: 0;\n  justify-content: center;\n  opacity: .9;\n  position: absolute;\n  width: 100%;\n}\n.add{\n  font-size: 15px;\n}\n.er{\n  font-size: 15px ;\n}\n</style>"]},"metadata":{},"sourceType":"module"}