{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data: () => ({\n    form: {\n      username: null,\n      password: null\n    },\n    showPass: false,\n    errorUsername: '',\n    errorPassword: '',\n    loading: false\n  }),\n  methods: {\n    login() {\n      axios.post(\"/apiUsers\", this.form).then(response => {\n        window.localStorage.setItem(\"token\", response.data.token);\n        this.loading = true;\n        this.$router.push({\n          path: \"/dashboard/\"\n        });\n      }).catch(error => {\n        console.log(error);\n        this.errorUsername = \"Pogrešno korisničko ime\";\n        this.errorPassword = \"Pogrešna lozinka\";\n        this.loading = false;\n      });\n    }\n\n  },\n\n  mounted() {\n    const token = localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null;\n\n    if (token) {\n      this.$router.push('/dashboard');\n    }\n  }\n\n};","map":{"version":3,"mappings":";AA4DA;AACA;EACAA;IACAC;MACAC,cADA;MAEAC;IAFA,CADA;IAKAC,eALA;IAMAC,iBANA;IAOAC,iBAPA;IAQAC;EARA,EADA;EAWAC;IACAC;MACAC,mCACAC,IADA,CACAC;QACAC;QACA;QACA;UAAAC;QAAA;MACA,CALA,EAMAC,KANA,CAMAC;QACAC;QACA;QACA;QACA;MACA,CAXA;IAYA;;EAdA,CAXA;;EA2BAC;IACA;;IACA;MACA;IACA;EACA;;AAhCA","names":["data","form","username","password","showPass","errorUsername","errorPassword","loading","methods","login","axios","then","response","window","path","catch","error","console","mounted"],"sourceRoot":"src/components","sources":["LoginView.vue"],"sourcesContent":["<template>\n    <v-app>\n        <v-main>\n            <v-container fluid fill-height style=\"background:rgba(44,44,44,0.5)\">\n                <v-layout align-center justify-center>\n                    <v-flex xs12 sm8 md4>\n                        <v-card class=\"elevation-12\">\n                            <v-toolbar dark color=\"dark\" >\n                                <v-toolbar-title>Prijavi se</v-toolbar-title>\n                            </v-toolbar>\n                            <v-card-text>\n                                <v-form \n                                    ref=\"form\" \n                                    @submit.prevent=\"login\"\n                                >\n                                    <v-text-field\n                                        label=\"Korisničko ime\"\n                                        append-icon=\"mdi-account\"\n                                        v-model=\"form.username\"\n                                        required\n                                        autofocus\n                                        :error-messages=\"errorUsername\"\n                                    >\n                                    </v-text-field>\n\n                                    <v-text-field\n                                        label=\"Lozinka\"\n                                        v-model=\"form.password\"\n                                        required\n                                        :error-messages=\"errorPassword\"\n                                        :append-icon=\"showPass ? 'mdi-eye' : 'mdi-eye-off'\"\n                                        @click:append=\"showPass = !showPass\"\n                                        :type=\"showPass ? 'text' : 'password'\"\n                                    >\n                                    </v-text-field>\n\n    \n                                    <div class=\"text-center\">\n                                        <v-btn \n                                            :loading=\"loading\"\n                                            color=\"dark\"\n                                            large\n                                            type=\"submit\"\n                                            text\n                                            rounded \n                                        >\n                                        Prijavi se\n                                        </v-btn>\n                                    </div>\n                                </v-form>\n                            </v-card-text>\n                        </v-card>\n                    </v-flex>\n                </v-layout>\n            </v-container>\n        </v-main>\n    </v-app>\n</template>\n\n<script>\nimport axios from \"axios\"\nexport default {\n    data: () => ({\n        form: {\n            username: null,\n            password: null,\n        },\n        showPass: false,\n        errorUsername: '',\n        errorPassword: '',\n        loading: false,\n    }),\n    methods: {\n        login() {\n             axios.post(\"/apiUsers\", this.form)\n            .then(response => {\n                window.localStorage.setItem(\"token\", response.data.token);\n                this.loading = true\n                this.$router.push({ path: \"/dashboard/\" });    \n            })\n            .catch(error => {\n                console.log(error)\n                this.errorUsername = \"Pogrešno korisničko ime\"\n                this.errorPassword = \"Pogrešna lozinka\"\n                this.loading = false \n            })\n        },\n    },\n    mounted() {\n         const token = localStorage.getItem(\"token\") ? localStorage.getItem(\"token\") : null\n         if (token) {\n            this.$router.push('/dashboard')\n         } \n    },\n};\n</script>\n\n<style scoped>\n.container.fill-height > .layout {\n    height: 100vh;\n}\n</style>"]},"metadata":{},"sourceType":"module"}