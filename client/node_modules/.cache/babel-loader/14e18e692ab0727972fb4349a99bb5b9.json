{"ast":null,"code":"import apiPost from \"../../services/service\"; // @ is an alias to /src\n\nexport default {\n  data: () => ({\n    search: \"\",\n    dialog: false,\n    dialogEdit: false,\n    dialogAdd: false,\n    dialogDeleteAll: false,\n    itemsPerPage: 4,\n    images: [],\n    image: [],\n    imageAdd: [],\n    tab: null,\n    loading: false,\n    loadingCard: false,\n    name: null,\n    Editloading: false,\n    editname: \"\",\n    erMsg: '',\n    erMsgAdd: \"\"\n  }),\n\n  async mounted() {\n    try {\n      // Simple GET request using axios\n      await apiPost.getCards().then(async response => {\n        this.images = await response.data;\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  },\n\n  methods: {\n    async deleteFotografija(id) {\n      try {\n        console.log(id);\n        await apiPost.deleteCard(id).then(response => {\n          console.log(response.data);\n        });\n        this.dialog = false;\n        await apiPost.getCards().then(async response => {\n          this.images = await response.data;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    async deleteAllFotografija() {\n      try {\n        await apiPost.deleteCardAll().then(response => {\n          console.log(response.data);\n        });\n        await apiPost.getCards().then(async response => {\n          this.images = await response.data;\n          this.dialogDeleteAll = false;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    async editFotografija(id, name) {\n      try {\n        let formData = new FormData();\n\n        if (this.name != '') {\n          this.Editloading = true;\n          formData.append(\"image[]\", this.image);\n          formData.append(\"name\", name);\n          await apiPost.editCard(id, formData).then(response => {\n            console.log(response.data);\n          });\n          await apiPost.getCards().then(async response => {\n            this.images = await response.data;\n            this.dialogEdit = false;\n            this.name = null;\n            this.image = [];\n            this.Editloading = false;\n            this.erMsg = \"\";\n          });\n        } else {\n          this.erMsg = \"Ime je obavezno\";\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    deleteItem(id) {\n      console.log(id);\n      this.id = id;\n      this.dialog = true;\n    },\n\n    editItem(id, name) {\n      console.log(id);\n      this.id = id;\n      this.name = name;\n      console.log(this.editname);\n      this.dialogEdit = true;\n    },\n\n    async dodajFotografiju() {\n      let formData = new FormData();\n\n      try {\n        formData.append(\"image[]\", this.imageAdd);\n        formData.append(\"name\", this.name);\n\n        if (this.imageAdd.length != 0 && this.name) {\n          this.loading = true;\n          await apiPost.createCard(formData).then(async response => {\n            console.log(await response.data);\n          });\n          await apiPost.getCards().then(async response => {\n            let data = await response.data;\n            this.images = data;\n          });\n          this.dialogAdd = false;\n          this.imageAdd = [];\n          this.name = null;\n          this.loading = false;\n          this.erMsgAdd = '';\n        } else {\n          this.erMsgAdd = \"Ime i slika su obavezne\";\n        }\n      } catch (error) {\n        console.log(error.message);\n      }\n    },\n\n    reserve() {\n      this.loading = true;\n      setTimeout(() => this.loading = false, 2000); //card loading\n\n      this.loadingCard = true;\n      setTimeout(() => this.loadingCard = false, 2000);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuUA,6C,CACA;;AAEA;EACAA;IACAC,UADA;IAEAC,aAFA;IAGAC,iBAHA;IAIAC,gBAJA;IAKAC,sBALA;IAMAC,eANA;IAOAC,UAPA;IAQAC,SARA;IASAC,YATA;IAUAC,SAVA;IAWAC,cAXA;IAYAC,kBAZA;IAaAC,UAbA;IAcAC,kBAdA;IAeAC,YAfA;IAgBAC,SAhBA;IAiBAC;EAjBA,EADA;;EAuBA;IACA;MACA;MACA;QACA;MACA,CAFA;IAIA,CANA,CAMA;MACAC;IACA;EACA,CAjCA;;EAoCAC;IACA;MACA;QACAD;QACA,6BACAE,IADA,CACAC;UACAH;QACA,CAHA;QAIA;QACA;UACA;QACA,CAFA;MAIA,CAXA,CAWA;QACAA;MAEA;IAIA,CApBA;;IAqBA;MACA;QACA;UACAA;QACA,CAFA;QAGA;UACA;UACA;QACA,CAHA;MAKA,CATA,CASA;QACAA;MAEA;IAIA,CAtCA;;IAuCA;MACA;QACA;;QACA;UACA;UAEAI;UACAA;UAEA,qCACAF,IADA,CACAC;YACAH;UACA,CAHA;UAIA;YACA;YACA;YACA;YACA;YACA;YACA;UAEA,CARA;QASA,CAnBA,MAoBA;UACA;QACA;MACA,CAzBA,CAyBA;QACAA;MACA;IACA,CApEA;;IAqEAK;MACAL;MACA;MACA;IACA,CAzEA;;IA0EAM;MACAN;MACA;MACA;MACAA;MACA;IACA,CAhFA;;IAkFA;MAEA;;MACA;QACAI;QACAA;;QACA;UAEA;UAEA,mCACAF,IADA,CACA;YACAF;UACA,CAHA;UAIA,yBACAE,IADA,CACA;YACA;YACA;UACA,CAJA;UAKA;UACA;UACA;UACA;UACA;QACA,CAlBA,MAmBA;UACA;QACA;MAEA,CA1BA,CA0BA;QACAF;MACA;IAEA,CAnHA;;IAqHAO;MAEA;MACAC,6CAHA,CAKA;;MACA;MACAA;IACA;;EA7HA;AApCA","names":["data","search","dialog","dialogEdit","dialogAdd","dialogDeleteAll","itemsPerPage","images","image","imageAdd","tab","loading","loadingCard","name","Editloading","editname","erMsg","erMsgAdd","console","methods","then","response","formData","deleteItem","editItem","reserve","setTimeout"],"sourceRoot":"src/components/wed-stories","sources":["WedStories.vue"],"sourcesContent":["<template>\n<div >\n \n     <v-btn\n      dark\n      small\n      color=\"primary\"\n      elevation=\"2\"\n      class=\"mt-8 ml-8 pa-5\"\n      @click=\"dialogAdd = true\"\n\n    >\n     <v-icon\n        class=\"mr-2\"\n        small\n        color=\"secondary\"\n      >\n        fa-add\n      </v-icon>\n      <span \n\n       class=\"add\">\n      Dodaj vjenčanje\n      </span>\n      </v-btn>\n      <v-btn\n      dark\n      small\n      color=\"red\"\n      elevation=\"2\"\n      class=\"mt-8 ml-8 pa-5\"\n      @click=\"dialogDeleteAll = true\"\n\n    >\n     <v-icon\n        class=\"mr-2\"\n        small\n      >\n        fa-trash\n      </v-icon>\n      <span class=\"add\">\n      Obriši vjenčanja\n      </span>\n      </v-btn>\n\n <v-container style=\"width:80%\" class=\"mt-12\">\n      <v-layout  wrap>\n        <v-flex\n         v-for=\"item in this.images\"\n         :key=\"item._id\"\n        >\n          <v-card\n          :loading=\"loadingCard\"\n           width=\"254\"\n           class=\"ma-4\"\n         >\n    <v-img\n       :src=\"`/`+item.image\"\n        aspect-ratio=\"1\"\n        class=\"grey lighten-2\"\n    ></v-img>\n\n    <v-card-title>{{item.name}}</v-card-title>\n\n  \n    <v-divider class=\"mx-4\"></v-divider>\n \n\n    <v-card-actions>\n      <v-btn\n      id=\"op1\"\n      class=\"mr-2\"\n      dark\n      small\n      color=\"primary\"\n      elevation=\"2\"\n      fab\n      @click=\"editItem(item._id, item.name)\"\n\n    >\n     <v-icon\n        \n        small\n        color=\"secondary\"\n      >\n        fa-pen-to-square\n      </v-icon>\n      </v-btn>\n\n      <v-spacer></v-spacer>\n\n    <router-link :to=\"`wed-albums/`+item._id\">\n\n      <v-btn\n      id=\"op1\"\n      class=\"pa-5\"\n      small\n      color=\"primaryBtn\"\n      elevation=\"2\"\n      \n    >\n    <span style=\"font-size:15px; color: white;\">\n     Otvori\n\n    </span>\n      </v-btn>\n      </router-link>\n\n\n      <v-spacer></v-spacer>\n\n      \n     <v-btn\n      dark\n      small\n      color=\"red\"\n      elevation=\"2\"\n      fab\n       @click=\"deleteItem(item._id)\"\n\n    >\n     <v-icon\n        \n        small\n      >\n        fa-trash\n      </v-icon>\n      </v-btn>\n\n    </v-card-actions>\n  </v-card>\n        </v-flex>\n      </v-layout>\n  </v-container>\n\n    <v-dialog\n        v-model=\"dialog\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Brisanje vjenčanja\n          </v-card-title>\n          <v-card-text>\n            Da li ste sigurni da želite da obrišete ovo vjenčanje?\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialog=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"red\"\n              text\n              @click=\"deleteFotografija(id)\"\n            >\n            <v-icon>mdi-delete</v-icon>\n              Obriši\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n             <v-dialog\n        v-model=\"dialogEdit\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Izmena vjenčanja <br>\n\n          </v-card-title>\n          <v-card-text>\n          <v-form \n        ref=\"form\" \n        @submit.prevent=\"editFotografija\"\n        > \n          <h3 style=\"color:red\">{{this.erMsg}}</h3>\n\n<v-text-field\n    placeholder=\"Ime\"\n    prepend-icon=\"mdi-card-text\"\n    label=\"Upišite novo ime\"\n    v-model=\"name\" \n\n  ></v-text-field>\n  <v-file-input\n    placeholder=\"Fotografije\"\n    prepend-icon=\"mdi-camera\"\n    accept=\"image/*\" \n    label=\"Izaberite fotografiju\"\n    v-model=\"image\" \n\n  ></v-file-input>\n  </v-form>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogEdit=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"green\"\n              text\n              :loading=\"Editloading\"\n\n              @click=\"editFotografija(id, name)\"\n            >\n             <v-icon >mdi-content-save</v-icon>\n\n              Izmeni\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n        <v-dialog\n        v-model=\"dialogAdd\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Dodaj fotografije\n          </v-card-title>\n          <v-card-text>\n          <v-form \n        ref=\"form\" \n        @submit.prevent=\"dodajFotografiju\"\n        > \n          <h3 style=\"color:red\">{{this.erMsgAdd}}</h3>\n\n           <v-text-field\n    placeholder=\"Ime\"\n    prepend-icon=\"mdi-card-text\"\n    label=\"Upišite ime\"\n    v-model=\"name\" \n\n  ></v-text-field>\n   <v-file-input\n    prepend-icon=\"mdi-camera\"\n    accept=\"image/*\" \n    label=\"Izaberite fotografiju\"\n    v-model=\"imageAdd\" \n    ref=\"uploadFiles\"\n    color=\"pink\"\n\n  ></v-file-input>\n  </v-form>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogAdd=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"green\"\n              text\n              :loading=\"loading\"\n              @click=\"dodajFotografiju()\"\n            >\n            <v-icon >mdi-content-save</v-icon>\n\n              Dodaj\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        v-model=\"dialogDeleteAll\"\n        width=\"500\"\n      >\n        <v-card>\n          <v-card-title>\n            Obrišite vjenčanja\n          </v-card-title>\n          <v-card-text>\n            <span class=\"er\">\n            Da li ste sigurni da želite da obrišete sva vjenčanja?<br>\n            Povratak neće biti moguć!!!\n            </span>\n          </v-card-text>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"info\"\n              text\n              @click=\"dialogDeleteAll=false\"\n            >\n            <v-icon >mdi-close-circle</v-icon>\n              Odustani\n            </v-btn>\n            <v-btn\n              color=\"red\"\n              text\n              @click=\"deleteAllFotografija()\"\n            >\n            <v-icon>mdi-delete</v-icon>\n              Obriši sve\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n</div>\n \n</template>\n\n\n<script>\nimport apiPost from \"../../services/service\"\n// @ is an alias to /src\n\n  export default {\n    data: () => ({\n      search: \"\",\n      dialog: false,\n      dialogEdit: false,\n      dialogAdd: false,\n      dialogDeleteAll: false,\n      itemsPerPage: 4,\n      images: [],\n      image:[],\n      imageAdd:[],\n      tab: null,\n      loading: false,\n      loadingCard: false,\n      name: null,\n      Editloading: false,\n      editname: \"\",\n      erMsg : '',\n      erMsgAdd: \"\"\n      \n    \n    }),\n\n    async mounted () {\n      try {\n        // Simple GET request using axios\n       await apiPost.getCards().then(async response => {\n          this.images = await response.data\n       })\n       \n      } catch (error) {\n        console.log(error.message)\n      }\n    },\n\n\n    methods: {\n     async deleteFotografija(id){\n      try {\n        console.log(id)\n       await apiPost.deleteCard(id)\n       .then(response => {\n            console.log(response.data)\n        })\n       this.dialog = false;\n       await apiPost.getCards().then(async response => {\n          this.images = await response.data\n       })\n     \n      } catch (error) {\n        console.log(error.message)\n        \n      }\n      \n       \n       \n     },\n     async deleteAllFotografija(){\n      try {\n        await apiPost.deleteCardAll().then(response => {\n        console.log(response.data)\n       })\n       await apiPost.getCards().then(async response => {\n          this.images = await response.data;\n          this.dialogDeleteAll = false;\n       })\n     \n      } catch (error) {\n        console.log(error.message)\n        \n      }\n      \n       \n       \n     },\n     async editFotografija(id, name){\n      try {\n        let formData = new FormData();\n           if (this.name != '') {\n      this.Editloading = true\n\n          formData.append(\"image[]\", this.image);\n          formData.append(\"name\", name);\n \n          await apiPost.editCard(id,formData)\n          .then(response => {\n            console.log(response.data)\n          })\n          await apiPost.getCards().then(async response => {\n          this.images = await response.data\n          this.dialogEdit = false;\n          this.name = null\n          this.image = []\n          this.Editloading = false\n         this.erMsg = \"\"\n\n       })\n      }\n      else{\n        this.erMsg = \"Ime je obavezno\"\n      }\n      } catch (error) {\n        console.log(error.message)\n      }       \n     },\n      deleteItem(id) {\n      console.log(id)\n      this.id = id\n      this.dialog = true\n    },\n     editItem(id, name) {\n      console.log(id)\n      this.id = id\n      this.name = name\n      console.log(this.editname)\n      this.dialogEdit = true\n    },\n  \n    async dodajFotografiju(){\n      \n       let formData = new FormData()\n       try {\n          formData.append(\"image[]\", this.imageAdd)\n          formData.append(\"name\", this.name )\n          if (this.imageAdd.length != 0 && this.name) {\n            \n       this.loading = true;\n\n          await apiPost.createCard(formData)\n          .then(async response => {\n            console.log(await response.data)\n          })\n          await apiPost.getCards()\n          .then(async response => {\n             let data  = await response.data\n             this.images = data\n          })\n          this.dialogAdd = false;\n          this.imageAdd = []\n          this.name = null\n          this.loading = false;\n          this.erMsgAdd = ''\n       }\n       else{\n        this.erMsgAdd = \"Ime i slika su obavezne\"\n      }\n        \n       } catch (error) {\n        console.log(error.message)\n       }\n         \n     }\n       ,\n     reserve () {\n        \n        this.loading = true\n        setTimeout(() => (this.loading = false), 2000)\n\n        //card loading\n        this.loadingCard = true\n        setTimeout(() => (this.loadingCard = false), 2000)\n      },\n     \n\n     \n    },\n  }\n</script>\n\n\n\n\n<style scoped>\n  .bottom-gradient {\n    background-image: linear-gradient(to top, rgba(0, 0, 0, 0.4) 0%, transparent 72px);\n  }\n\n  .repeating-gradient {\n    background-image: repeating-linear-gradient(-45deg,\n                        rgba(255,0,0,.25),\n                        rgba(255,0,0,.25) 5px,\n                        rgba(0,0,255,.25) 5px,\n                        rgba(0,0,255,.25) 10px\n                      );\n  }\n  .v-card--reveal {\n  align-items: center;\n  bottom: 0;\n  justify-content: center;\n  opacity: .9;\n  position: absolute;\n  width: 100%;\n}\n.add{\n  font-size: 15px;\n}\n.er{\n  font-size: 15px ;\n}\na{\n  text-decoration: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}